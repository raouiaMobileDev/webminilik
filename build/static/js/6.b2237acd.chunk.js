(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{272:function(e,t,n){"use strict";n.d(t,"c",function(){return h}),n.d(t,"d",function(){return m}),n.d(t,"b",function(){return f}),n.d(t,"a",function(){return g}),n.d(t,"h",function(){return b}),n.d(t,"f",function(){return E}),n.d(t,"g",function(){return v}),n.d(t,"e",function(){return y}),n.d(t,"j",function(){return w}),n.d(t,"i",function(){return k}),n.d(t,"k",function(){return j});var a=n(23),r=n(285),o=n.n(r),s=(n(289),n(273)),c=n.n(s),i="https://minilik-4e824.firebaseio.com/",l="AIzaSyD2raRNg7gb1bFPbB3WENlXEq2WEwI8NCA",u="https://www.googleapis.com/identitytoolkit/v3/relyingparty/signupNewUser?key=".concat(l),d="https://www.googleapis.com/identitytoolkit/v3/relyingparty/verifyPassword?key=".concat(l);o.a.initializeApp({apiKey:"AIzaSyD2raRNg7gb1bFPbB3WENlXEq2WEwI8NCA",authDomain:"minilik-4e824.firebaseapp.com",databaseURL:"https://minilik-4e824.firebaseio.com",projectId:"minilik-4e824",storageBucket:"minilik-4e824.appspot.com",messagingSenderId:"41678970934"});var p=o.a.database(),h=function(e){console.log("**********call the data base"),p.ref("pubs").push(e).then(function(){console.log("Data is saved!")}).catch(function(e){console.log("Failed.",e)})},m=function(e){console.log("**********call the data base"),p.ref("restaurants").push(e).then(function(){console.log("Data is saved!")}).catch(function(e){console.log("Failed.",e)})},f=function(e){console.log("**********call the data base"),p.ref("plats").push(e).then(function(){console.log("Data is saved!")}).catch(function(e){console.log("Failed.",e)})},g=function(e){console.log("**********call the data base"),p.ref("categories").push(e).then(function(){console.log("Data is saved!")}).catch(function(e){console.log("Failed.",e)})},b=function(){var e=[];return p.ref("restaurants").once("value").then(function(t){t.key;var n=t.val();console.log(n),t.forEach(function(t){e.push(Object(a.a)({id:t.key},t.val()))}),console.log(e)}).catch(function(e){console.log("Error fetching data",e)}),e};function E(){return{type:"GET_RESTAURANTS",payload:c()("".concat(i,"/restaurants.json")).then(function(e){var t=[];for(var n in e.data)t.push(Object(a.a)({},e.data[n],{id:n}));return t})}}var v=function(){var e=[];return p.ref("categories").once("value").then(function(t){t.key,t.val();t.forEach(function(t){e.push(Object(a.a)({id:t.key},t.val()))})}).catch(function(e){console.log("Error fetching data",e)}),e};function y(){return{type:"GET_COMMANDS",payload:c()("".concat(i,"/Commands.json")).then(function(e){var t=[];for(var n in e.data)t.push(Object(a.a)({},e.data[n],{id:n}));return t})}}var w=function(e){return{type:"register_user",payload:c()({method:"POST",url:u,data:{email:e.email,password:e.password,returnSecureToken:!0},headers:{"Content-Type":"application/json"}}).then(function(e){return e.data}).catch(function(e){return!1})}};function k(e){return{type:"sign_user",payload:c()({method:"POST",url:d,data:{email:e.email,password:e.password,returnSecureToken:!0},headers:{"Content-Type":"application/json"}}).then(function(e){return e.data}).catch(function(e){return!1})}}var j=function(e,t){p.ref("Commands/"+e).update(t)}},391:function(e,t,n){e.exports=n.p+"static/media/logo.042c6db4.png"},607:function(e,t,n){"use strict";n.r(t);var a=n(89),r=n(90),o=n(92),s=n(91),c=n(93),i=n(0),l=n.n(i),u=n(265),d=n(391),p=n.n(d),h=n(272),m=n(99),f=n(30),g=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(o.a)(this,Object(s.a)(t).call(this,e))).state={emailUser:"",passwordUser:"",hasErrors:!1},n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"handleChange_emailUser",value:function(e){this.setState({emailUser:e.target.value})}},{key:"handleChange_passwordUser",value:function(e){this.setState({passwordUser:e.target.value})}},{key:"uploadHandler",value:function(){var e=this,t={email:this.state.emailUser,password:this.state.passwordUser};this.props.signIn(t).then(function(){if(console.log(e.props.User),!e.props.User.userData.uid)return e.setState({hasErrors:!0}),console.log("user not exist"),null;console.log(e.props.User.userData.uid),e.props.history.push("/"+e.props.User.userData.uid)})}},{key:"render",value:function(){return l.a.createElement("div",{className:"app flex-row align-items-center"},l.a.createElement(u.w,null,l.a.createElement(u.ib,{className:"justify-content-center"},l.a.createElement(u.u,{md:"8"},l.a.createElement(u.m,null,l.a.createElement(u.i,{className:"p-4"},l.a.createElement(u.j,null,l.a.createElement(u.C,null,l.a.createElement(u.ib,null,l.a.createElement(u.u,{sm:"12",md:{size:6,offset:4}},l.a.createElement(u.Q,{style:{width:110},object:!0,src:p.a}))),l.a.createElement("h1",null,"Connexion"),l.a.createElement(u.H,{className:"mb-3"},l.a.createElement(u.I,{addonType:"prepend"},l.a.createElement(u.J,null,l.a.createElement("i",{className:"icon-user"}))),l.a.createElement(u.G,{type:"text",name:"email",onChange:this.handleChange_emailUser.bind(this),placeholder:"Entrer votre adresse email",autoComplete:"username"})),l.a.createElement(u.H,{className:"mb-4"},l.a.createElement(u.I,{addonType:"prepend"},l.a.createElement(u.J,null,l.a.createElement("i",{className:"icon-lock"}))),l.a.createElement(u.G,{type:"password",name:"password",onChange:this.handleChange_passwordUser.bind(this),placeholder:"Entrer votre mot de passe",autoComplete:"current-password"})),l.a.createElement(u.ib,null,l.a.createElement(u.u,{xs:"6"},l.a.createElement(u.e,{color:"light",className:"px-4",onClick:this.uploadHandler.bind(this)},"Se connecter")))))))))))}}]),t}(i.Component);t.default=Object(m.b)(function(e){return console.log(e),{User:e.User}},function(e){return Object(f.b)({signIn:h.i},e)})(g)}}]);
//# sourceMappingURL=6.b2237acd.chunk.js.map