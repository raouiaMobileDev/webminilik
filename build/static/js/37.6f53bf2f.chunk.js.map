{"version":3,"sources":["config/firebase.js","views/Buttons/AddPlat/AddPlat.js"],"names":["FIREBASEDB","APIKEY","SIGNUP","concat","SIGNIN","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","database","addPubToFirebase","pub","console","log","ref","push","then","catch","e","addRestaurantToFirebase","restaurant","addPlatToFirebase","plat","addCategoryToFirebase","category","listRestaurantsToFirebase","restaurants","once","snapshot","key","val","forEach","item","Object","D_CLEVERDEV_Projects_myproject_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","id","getRestaurants","type","payload","axios","response","data","listCategoriesToFirebase","categories","getCommands","commands","signUp","method","url","email","password","returnSecureToken","headers","Content-Type","signIn","updateCommandValidRestaurant","idCommand","command","update","AddPlat","props","_this","D_CLEVERDEV_Projects_myproject_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","D_CLEVERDEV_Projects_myproject_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","D_CLEVERDEV_Projects_myproject_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","SelectOptionRestaurants","state","listRestaurant","map","react__WEBPACK_IMPORTED_MODULE_6___default","a","createElement","value","name","toggle","bind","D_CLEVERDEV_Projects_myproject_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__","toggleFade","collapse","fadeIn","timeout","listRestaurants","listCategories","plat_name","plat_price","plat_restaurant","plat_category","selectedFile","event","setState","target","idRestaurant","some","res","index","_arr","idCategory","cat","files","fd","FormData","append","post","price","prevState","restoptionItems","address","catoptionItems","className","reactstrap__WEBPACK_IMPORTED_MODULE_7__","xs","in","action","encType","row","md","htmlFor","onChange","handleChange_platName","placeholder","color","handleChange_platPrice","handleChange_platRestaurant","handleChange_platCategory","fileChangedHandler","size","onClick","uploadHandler","Component"],"mappings":"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","file":"static/js/37.6f53bf2f.chunk.js","sourcesContent":["import firebase from 'firebase';\r\nimport uuid from 'uuid/v4';\r\nimport axios from 'axios';\r\n\r\n\r\n\r\nconst FIREBASEDB = 'https://minilik-4e824.firebaseio.com/';\r\n\r\n\r\nconst APIKEY = `AIzaSyD2raRNg7gb1bFPbB3WENlXEq2WEwI8NCA`;\r\nconst SIGNUP = `https://www.googleapis.com/identitytoolkit/v3/relyingparty/signupNewUser?key=${APIKEY}`;\r\nconst SIGNIN = `https://www.googleapis.com/identitytoolkit/v3/relyingparty/verifyPassword?key=${APIKEY}`;\r\n\r\n\r\nconst config = {\r\n   // apiKey: \"AIzaSyC3A1SavrYQVF4f4RT3HsjhjU3UwV_vrK4\",\r\n  //  authDomain: \"minilik-31707.firebaseapp.com\",\r\n // databaseURL: \"https://minilik-31707.firebaseio.com\",\r\n  //  projectId: \"minilik-31707\",\r\n  //  storageBucket: \"minilik-31707.appspot.com\",\r\n  //  messagingSenderId: \"849103712925\"\r\n\r\n    apiKey: \"AIzaSyD2raRNg7gb1bFPbB3WENlXEq2WEwI8NCA\",\r\n    authDomain: \"minilik-4e824.firebaseapp.com\",\r\n    databaseURL: \"https://minilik-4e824.firebaseio.com\",\r\n    projectId: \"minilik-4e824\",\r\n    storageBucket: \"minilik-4e824.appspot.com\",\r\n    messagingSenderId: \"41678970934\"\r\n    };\r\n\r\n    \r\n    firebase.initializeApp(config);\r\n    const database = firebase.database()\r\n    export default database\r\n\r\n\r\n\r\n    export  const addTaskToFirebase = (task) => {\r\n        const id = uuid()\r\n        database.ref(`/${id}`).set({\r\n        task, id\r\n        })\r\n       }\r\n\r\n\r\n    export const addPubToFirebase = (pub) => {\r\n        console.log('**********call the data base');\r\n        database.ref('pubs').push( pub).then(() => {\r\n            console.log('Data is saved!');\r\n        }).catch((e) => {\r\n            console.log('Failed.', e);\r\n        });\r\n       }   \r\n\r\n       export const addRestaurantToFirebase = (restaurant) => {\r\n        console.log('**********call the data base');\r\n        database.ref('restaurants').push(restaurant).then(() => {\r\n            console.log('Data is saved!');\r\n        }).catch((e) => {\r\n            console.log('Failed.', e);\r\n        });\r\n       } \r\n\r\n\r\n       export const addPlatToFirebase = (plat) => {\r\n        console.log('**********call the data base');\r\n        database.ref('plats').push(plat).then(() => {\r\n            console.log('Data is saved!');\r\n        }).catch((e) => {\r\n            console.log('Failed.', e);\r\n        });\r\n       } \r\n       \r\n       export const addCategoryToFirebase = (category) => {\r\n        console.log('**********call the data base');\r\n        database.ref('categories').push(category).then(() => {\r\n            console.log('Data is saved!');\r\n        }).catch((e) => {\r\n            console.log('Failed.', e);\r\n        });\r\n       }  \r\n\r\n    export const removeTaskFromFirebase = (id) => {\r\n       database.ref(`/${id}`).remove()\r\n       }\r\n\r\n\r\n    \r\n\r\n\r\n\r\n\r\n       export const listRestaurantsToFirebase = () => {\r\n        var restaurants = [];\r\n       database.ref('restaurants')\r\n       .once('value')\r\n       .then((snapshot) => {\r\n           const key = snapshot.key;\r\n           const val = snapshot.val();\r\n           console.log(val);\r\n            // put the values in the table restaurants\r\n          // const restaurants = [];\r\n           snapshot.forEach(item => {\r\n            restaurants.push({\r\n                id: item.key,\r\n                ...item.val()\r\n            });\r\n\r\n            });\r\n            console.log(restaurants);\r\n            //return restaurants;\r\n       })\r\n       .catch((e) => {\r\n           console.log('Error fetching data', e);\r\n       });\r\n       return restaurants;\r\n    }\r\n\r\n    export function getRestaurants(){\r\n\r\n        const request = axios(`${FIREBASEDB}/restaurants.json`)\r\n                    .then(response => {\r\n                        let restaurants = [];\r\n    \r\n                        for(let key in response.data){\r\n                            restaurants.push({\r\n                                ...response.data[key],\r\n                                id:key\r\n                            })\r\n                        }\r\n                        return restaurants;\r\n                    })\r\n    \r\n        return {\r\n            type:'GET_RESTAURANTS',\r\n            payload:request\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    export const listCategoriesToFirebase = () => {\r\n        var categories = [];\r\n       database.ref('categories')\r\n       .once('value')\r\n       .then((snapshot) => {\r\n           const key = snapshot.key;\r\n           const val = snapshot.val();\r\n           snapshot.forEach(item => {\r\n            categories.push({\r\n                id: item.key,\r\n                ...item.val()\r\n            });\r\n\r\n            });\r\n       })\r\n       .catch((e) => {\r\n           console.log('Error fetching data', e);\r\n       });\r\n       return categories;\r\n    }\r\n\r\n\r\n    export const listCommands = () => {\r\n        var commands = [];\r\n       database.ref('Commands')\r\n       .once('value')\r\n       .then((snapshot) => {\r\n           const key = snapshot.key;\r\n           const val = snapshot.val();\r\n           snapshot.forEach(item => {\r\n            commands.push({\r\n                id: item.key,\r\n                ...item.val()\r\n            });\r\n\r\n            });\r\n       })\r\n       .catch((e) => {\r\n           console.log('Error fetching data', e);\r\n       });\r\n       return commands;\r\n    }\r\n\r\n\r\n    export function getCommands(){\r\n\r\n        const request = axios(`${FIREBASEDB}/Commands.json`)\r\n                    .then(response => {\r\n                        let commands = [];\r\n    \r\n                        for(let key in response.data){\r\n                            commands.push({\r\n                                ...response.data[key],\r\n                                id:key\r\n                            })\r\n                        }\r\n                        return commands;\r\n                    })\r\n    \r\n        return {\r\n            type:'GET_COMMANDS',\r\n            payload:request\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    export const signUp = (data)=>{\r\n\r\n        const request = axios({\r\n            method:\"POST\",\r\n            url:SIGNUP,\r\n            data:{\r\n                email: data.email,\r\n                password: data.password,\r\n                returnSecureToken:true\r\n            },\r\n            headers:{\r\n                \"Content-Type\":\"application/json\"\r\n            }\r\n        }).then( response => {\r\n            return response.data\r\n        }).catch(e =>{\r\n            return false\r\n        })\r\n    \r\n        return {\r\n            type: 'register_user',\r\n            payload: request\r\n        }\r\n    }\r\n\r\n    export function signIn(data){\r\n\r\n        const request = axios({\r\n            method:\"POST\",\r\n            url:SIGNIN,\r\n            data:{\r\n                email: data.email,\r\n                password: data.password,\r\n                returnSecureToken:true\r\n            },\r\n            headers:{\r\n                \"Content-Type\":\"application/json\"\r\n            }\r\n        }).then(response =>{\r\n            return response.data\r\n        }).catch(e=>{\r\n            return false\r\n        });\r\n    \r\n        return {\r\n            type: 'sign_user',\r\n            payload: request\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    export const updateCommandValidRestaurant = (idCommand, command) => {\r\n        database.ref('Commands/'+idCommand).update(command);\r\n    }\r\n\r\n\r\n","import React, { Component } from 'react';\r\nimport {\r\n  Button,\r\n  Card,\r\n  CardBody,\r\n  CardFooter,\r\n  CardHeader,\r\n  Col,\r\n  Fade,\r\n  Form,\r\n  FormGroup,\r\n  FormText,\r\n  Input,\r\n  Label,\r\n  Row,\r\n} from 'reactstrap';\r\n\r\nimport axios from 'axios';\r\nimport {listRestaurantsToFirebase, listCategoriesToFirebase, addPlatToFirebase}  from '../../../config/firebase';\r\n\r\nclass AddPlat extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.toggle = this.toggle.bind(this);\r\n    this.toggleFade = this.toggleFade.bind(this);\r\n    this.state = {\r\n      collapse: true,\r\n      fadeIn: true,\r\n      timeout: 300,\r\n     // restaurant_url:'',\r\n      listRestaurants:listRestaurantsToFirebase(),\r\n      listCategories:listCategoriesToFirebase(),\r\n      plat_name: '',\r\n      plat_price:'',\r\n      plat_restaurant:'',\r\n      plat_category:'',\r\n      selectedFile: 'Raouia',\r\n    //  optionRestaurants:[],\r\n    //  optionCategories:[]\r\n\r\n    };\r\n\r\n  //  this.setState({optionsRestaurants: this.state.listRestaurants.map((restaurant) =>\r\n  //    <option key={restaurant.id}>{restaurant.name} ({restaurant.address})</option> )});\r\n\r\n //   this.setState({optionsRestaurants: this.state.optionCategories.map((category) =>\r\n  //      <option key={category.id}>{category.name} </option> )});\r\n   \r\n\r\n  }\r\n\r\n\r\n\r\n  handleChange_platName(event) {\r\n    this.setState({plat_name: event.target.value});\r\n  }\r\n\r\n  handleChange_platPrice(event) {\r\n    this.setState({plat_price: event.target.value});\r\n  }\r\n\r\n  handleChange_platRestaurant(event) {\r\n\r\n  var idRestaurant=event.target.value;\r\n  var restaurant;\r\n   this.state.listRestaurants.some(function (res, index, _arr) {\r\n     if(res.id===idRestaurant)\r\n     {\r\n        restaurant= res;\r\n        return true;\r\n     }\r\n    });\r\n    console.log(restaurant);\r\n    if(restaurant!==\"undefined\")\r\n    {\r\n    this.setState({plat_restaurant: restaurant});\r\n    console.log('************ option restaurant *****************');\r\n    console.log(restaurant);\r\n    }\r\n  }\r\n\r\n  handleChange_platCategory(event) {\r\n\r\n    var idCategory=event.target.value;\r\n    var category;\r\n     this.state.listCategories.some(function (cat, index, _arr) {\r\n       if(cat.id===idCategory)\r\n       {\r\n          category= cat;\r\n          return true;\r\n       }\r\n      });\r\n      console.log(category);\r\n      if(category!==\"undefined\")\r\n      {\r\n        this.setState({plat_category: category});\r\n      }\r\n  }\r\n\r\n  fileChangedHandler (event) {   \r\n    this.setState({selectedFile: event.target.files[0]});\r\n    console.log( this.state.selectedFile);\r\n    console.log('************coco est *****************');\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  SelectOptionRestaurants  = () => (\r\n    this.state.listRestaurant.map ((item) => (\r\n    <option value={\"{item.id}\"}> {item.name} </option> \r\n    )\r\n    )\r\n  );\r\n\r\n  \r\n\r\n \r\n  \r\n  \r\n  uploadHandler ()  {\r\n    console.log('************coco est bouton *****************');\r\n\r\n    const fd = new FormData();\r\n    fd.append('image', this.state.selectedFile, this.state.selectedFile.name);\r\n    axios.post('https://minilik.000webhostapp.com/plat.php', fd\r\n    ).then(res=>\r\n    {\r\n    console.log(res);\r\n    }\r\n    );\r\n    console.log('**** go to the base*******');\r\n  \r\n    var plat={\r\n      name:this.state.plat_name,\r\n      price:this.state.plat_price,\r\n      restaurant: this.state.plat_restaurant,\r\n      category:this.state.plat_category,\r\n      url: 'https://minilik.000webhostapp.com/plat/'+this.state.selectedFile.name\r\n    }\r\n    addPlatToFirebase(plat);\r\n  \r\n\r\n\r\n\r\n\r\n    /*const formData = new FormData()\r\n    formData.append('myImage', this.state.selectedFile, this.state.selectedFile.name)\r\n    axios.post('/upload', formData)\r\n    .then((response) => { alert(\"The file is successfully uploaded\"); })\r\n    .catch((error) => { });\r\n    */\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  toggle() {\r\n    this.setState({ collapse: !this.state.collapse });\r\n  }\r\n\r\n  toggleFade() {\r\n    this.setState((prevState) => { return { fadeIn: !prevState }});\r\n  }\r\n\r\n  render() {\r\n    let restaurants = this.state.listRestaurants;\r\n    let restoptionItems = restaurants.map((restaurant) =>\r\n            <option key={restaurant.id} value={restaurant.id}>{restaurant.name} ({restaurant.address})</option>\r\n        );\r\n\r\n    let categories = this.state.listCategories;\r\n    let catoptionItems = categories.map((category) =>\r\n            <option key={category.id} value={category.id}>{category.name} </option>\r\n        );    \r\n\r\n\r\n\r\n\r\n    return (\r\n\r\n      <div className=\"animated fadeIn\">\r\n      {/*\r\n        <Row>\r\n          <Col xs=\"12\" md=\"6\">\r\n*/}\r\n          <Row>\r\n          <Col xs=\"12\">\r\n            <Fade timeout={this.state.timeout} in={this.state.fadeIn}>\r\n\r\n\r\n            <Card>\r\n              <CardHeader>\r\n                <strong>Ajouter un plat</strong> \r\n              </CardHeader>\r\n              <CardBody>\r\n                <Form action=\"\" method=\"post\" encType=\"multipart/form-data\" className=\"form-horizontal\">\r\n\r\n                  <FormGroup row>\r\n                    <Col md=\"3\">\r\n                      <Label htmlFor=\"text-input\">Nom de plat </Label>\r\n                    </Col>\r\n                    <Col xs=\"12\" md=\"9\">\r\n                      <Input type=\"text\" id=\"text-input\" name=\"plat_name\"  onChange={this.handleChange_platName.bind(this)} placeholder=\"Text\" />\r\n                      <FormText color=\"muted\">Ce champ est obligatoire</FormText>\r\n                    </Col>\r\n                  </FormGroup>\r\n\r\n                  <FormGroup row>\r\n                    <Col md=\"3\">\r\n                      <Label htmlFor=\"text-input\"> Prix de plat  </Label>\r\n                    </Col>\r\n                    <Col xs=\"12\" md=\"9\">\r\n                      <Input type=\"text\" id=\"text-input\" name=\"plat_price\" onChange={this.handleChange_platPrice.bind(this)} placeholder=\"Text\" />\r\n                      <FormText color=\"muted\">Ce champ est obligatoire</FormText>\r\n                    </Col>\r\n                  </FormGroup>\r\n\r\n                  <FormGroup row>\r\n                    <Col md=\"3\">\r\n                      <Label htmlFor=\"select\">Salon de thé</Label>\r\n                    </Col>\r\n                    <Col xs=\"12\" md=\"9\">\r\n                     <Input type=\"select\" name=\"select\" id=\"select\" onChange={this.handleChange_platRestaurant.bind(this)}> \r\n                    \r\n                        <option value=\"0\">Sélectionner le salon de thé </option> \r\n                          {restoptionItems} \r\n                      </Input>\r\n                         \r\n                    </Col>\r\n                  </FormGroup>\r\n\r\n\r\n                  <FormGroup row>\r\n                    <Col md=\"3\">\r\n                      <Label htmlFor=\"select\">Catégorie de plat</Label>\r\n                    </Col>\r\n                    <Col xs=\"12\" md=\"9\">\r\n                     <Input type=\"select\" name=\"select\" id=\"select\" onChange={this.handleChange_platCategory.bind(this)}> \r\n                    \r\n                        <option value=\"0\">Sélectionner la categorie de plat </option> \r\n                        {catoptionItems} \r\n                      </Input>\r\n                         \r\n                    </Col>\r\n                  </FormGroup>\r\n\r\n                  <FormGroup row>\r\n                    <Col md=\"3\">\r\n                      <Label htmlFor=\"file-input\">Ajouter une image</Label>\r\n                    </Col>\r\n                    <Col xs=\"12\" md=\"9\">\r\n                      <Input type=\"file\" id=\"file-input\" name=\"myImage\"  onChange={this.fileChangedHandler.bind(this)} />\r\n                    </Col>\r\n                  </FormGroup>\r\n\r\n                </Form>\r\n\r\n\r\n              </CardBody>\r\n              <CardFooter>\r\n                <Button type=\"submit\" size=\"sm\" color=\"primary\" onClick={this.uploadHandler.bind(this)}>\r\n                <i className=\"fa fa-dot-circle-o\"></i>\r\n                 Submit</Button>\r\n                <Button type=\"reset\" size=\"sm\" color=\"danger\"><i className=\"fa fa-ban\"></i> Reset</Button>\r\n              </CardFooter>\r\n            </Card>\r\n\r\n\r\n\r\n\r\n           </Fade>\r\n             </Col>\r\n        </Row>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AddPlat;"],"sourceRoot":""}